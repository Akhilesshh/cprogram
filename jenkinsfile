pipeline {
agent none
stages {
stage ('BUILD') {
agent { label 'masternode'
}
steps {
sh '''
cd /var/lib/jenkins/workspace/cprogram
make ABC.exe
'''
}
}
stage ('TEST') {
agent { label 'slavenode'
}
steps {
sh '''
sleep 5
echo "this is test stage"
'''
}
}
stage ('DEPLOY') {
agent { label 'masternode'
}
steps {
sh '''
echo "this is deploy stage"
'''
}
}
stage ('4th') {
agent { label 'slavenode'
}
steps {
sh '''
pwd
'''
}
}
stage('5th') {
agent { label 'masternode'
}
steps {
sh '''
echo "$$"
'''
}
}
}
}
